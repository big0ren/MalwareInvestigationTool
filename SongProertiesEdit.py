from mutagen.mp3 import MP3
import os
from shutil import move


folder = "E:\WhatsApp Audio"
for file in os.listdir(folder):
    audio = MP3(folder + '\\' + file)
    print file
    print "------------------------"
    print audio.pprint()
    print "------------------------"
    print
    OldPath = folder + '\\' + file
    try:
        Author = str(audio.tags["TPE1"]).replace("'", "")
        AuthorLen = len(Author)
        Author = Author[0:AuthorLen]
        Title = str(audio.tags["TIT2"]).replace("'","")
        TitleLen = len(Title)
        Title = Title[0:TitleLen]
        NewPath = unicode(folder + '\\' +Author + " - " + Title + ".mp3", "utf-8")
        try:
            move(OldPath, NewPath)
        except:
            print "not Good"
    except:
        print "the file: " + file + " has not Metadata!"
        print
        continue